"use strict";(self.webpackChunkmlops_documentation=self.webpackChunkmlops_documentation||[]).push([[7509],{8453:function(e,n,r){r.d(n,{R:function(){return t},x:function(){return i}});var s=r(6540);const l={},a=s.createContext(l);function t(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(a.Provider,{value:n},e.children)}},9720:function(e,n,r){r.r(n),r.d(n,{assets:function(){return o},contentTitle:function(){return i},default:function(){return m},frontMatter:function(){return t},metadata:function(){return s},toc:function(){return c}});var s=JSON.parse('{"id":"tools/helm","title":"Helm Charts & Package Management","description":"Overview","source":"@site/docs/tools/helm.md","sourceDirName":"tools","slug":"/tools/helm","permalink":"/docs/tools/helm","draft":false,"unlisted":false,"editUrl":"https://github.com/MLops-Project-Platform/documentation/tree/main/docs/tools/helm.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Kubernetes","permalink":"/docs/tools/kubernetes"},"next":{"title":"ArgoCD - GitOps for Kubernetes","permalink":"/docs/tools/argocd"}}'),l=r(4848),a=r(8453);const t={sidebar_position:6},i="Helm Charts & Package Management",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Helm Chart Structure",id:"helm-chart-structure",level:3},{value:"Chart.yaml",id:"chartyaml",level:3},{value:"Values Files",id:"values-files",level:2},{value:"Default values.yaml",id:"default-valuesyaml",level:3},{value:"Environment-specific overrides",id:"environment-specific-overrides",level:3},{value:"Common Helm Commands",id:"common-helm-commands",level:2},{value:"Install Chart",id:"install-chart",level:3},{value:"Upgrade Chart",id:"upgrade-chart",level:3},{value:"Manage Releases",id:"manage-releases",level:3},{value:"Debug Charts",id:"debug-charts",level:3},{value:"Templating",id:"templating",level:2},{value:"Template Functions",id:"template-functions",level:3},{value:"Conditional Rendering",id:"conditional-rendering",level:3},{value:"Loops",id:"loops",level:3},{value:"Repository Management",id:"repository-management",level:2},{value:"Add Repository",id:"add-repository",level:3},{value:"Search Charts",id:"search-charts",level:3},{value:"Dependency Management",id:"dependency-management",level:2},{value:"Chart.yaml Dependencies",id:"chartyaml-dependencies",level:3},{value:"Manage Dependencies",id:"manage-dependencies",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Helm Hooks",id:"helm-hooks",level:2},{value:"Testing Charts",id:"testing-charts",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"helm-charts--package-management",children:"Helm Charts & Package Management"})}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(n.p,{children:"Helm is the package manager for Kubernetes, simplifying deployment and management of applications through reusable templates called charts."}),"\n",(0,l.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,l.jsx)(n.h3,{id:"helm-chart-structure",children:"Helm Chart Structure"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"mlops-chart/\r\n\u251c\u2500\u2500 Chart.yaml           # Chart metadata\r\n\u251c\u2500\u2500 values.yaml          # Default configuration values\r\n\u251c\u2500\u2500 values-dev.yaml      # Dev environment overrides\r\n\u251c\u2500\u2500 values-qa.yaml       # QA environment overrides\r\n\u251c\u2500\u2500 values-prod.yaml     # Production environment overrides\r\n\u251c\u2500\u2500 templates/\r\n\u2502   \u251c\u2500\u2500 deployment.yaml\r\n\u2502   \u251c\u2500\u2500 service.yaml\r\n\u2502   \u251c\u2500\u2500 configmap.yaml\r\n\u2502   \u251c\u2500\u2500 secret.yaml\r\n\u2502   \u2514\u2500\u2500 ingress.yaml\r\n\u2514\u2500\u2500 charts/              # Dependency charts\r\n    \u2514\u2500\u2500 postgres/\n"})}),"\n",(0,l.jsx)(n.h3,{id:"chartyaml",children:"Chart.yaml"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v2\r\nname: mlops-platform\r\ndescription: MLOps Platform Helm Chart\r\ntype: application\r\nversion: 1.0.0\r\nappVersion: "1.0"\r\nhome: https://github.com/MLops-Project-Platform/mlops-helm-charts\r\nkeywords:\r\n  - mlops\r\n  - ml\r\n  - training\r\nmaintainers:\r\n  - name: MLOps Team\r\n    email: team@mlops.com\r\ndependencies:\r\n  - name: postgresql\r\n    version: "12.0"\r\n    repository: "https://charts.bitnami.com/bitnami"\r\n  - name: minio\r\n    version: "12.0"\r\n    repository: "https://charts.bitnami.com/bitnami"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"values-files",children:"Values Files"}),"\n",(0,l.jsx)(n.h3,{id:"default-valuesyaml",children:"Default values.yaml"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'# Replica counts\r\nreplicaCount: 3\r\n\r\n# Image configuration\r\nimage:\r\n  repository: mlops/platform\r\n  pullPolicy: IfNotPresent\r\n  tag: "latest"\r\n\r\n# Service configuration\r\nservice:\r\n  type: LoadBalancer\r\n  port: 5000\r\n  targetPort: 5000\r\n\r\n# Resource limits\r\nresources:\r\n  limits:\r\n    cpu: 4\r\n    memory: 8Gi\r\n  requests:\r\n    cpu: 2\r\n    memory: 4Gi\r\n\r\n# Storage\r\npersistence:\r\n  enabled: true\r\n  storageClass: default\r\n  size: 100Gi\r\n\r\n# Autoscaling\r\nautoscaling:\r\n  enabled: true\r\n  minReplicas: 2\r\n  maxReplicas: 10\r\n  targetCPUUtilizationPercentage: 70\n'})}),"\n",(0,l.jsx)(n.h3,{id:"environment-specific-overrides",children:"Environment-specific overrides"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Deploy to development\r\nhelm install mlops ./mlops-chart -f values-dev.yaml -n mlops-dev\r\n\r\n# Deploy to QA\r\nhelm install mlops ./mlops-chart -f values-qa.yaml -n mlops-qa\r\n\r\n# Deploy to production\r\nhelm install mlops ./mlops-chart -f values-prod.yaml -n mlops-prod\n"})}),"\n",(0,l.jsx)(n.h2,{id:"common-helm-commands",children:"Common Helm Commands"}),"\n",(0,l.jsx)(n.h3,{id:"install-chart",children:"Install Chart"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install with default values\r\nhelm install mlops ./mlops-chart -n mlops-prod --create-namespace\r\n\r\n# Install with custom values\r\nhelm install mlops ./mlops-chart -f values-prod.yaml -n mlops-prod\r\n\r\n# Install from repository\r\nhelm repo add mlops https://charts.mlops.com\r\nhelm install mlops mlops/mlops-platform\n"})}),"\n",(0,l.jsx)(n.h3,{id:"upgrade-chart",children:"Upgrade Chart"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Upgrade with new values\r\nhelm upgrade mlops ./mlops-chart -f values-prod.yaml -n mlops-prod\r\n\r\n# Upgrade specific value\r\nhelm upgrade mlops ./mlops-chart \\\r\n  --set image.tag=v2.0 \\\r\n  -n mlops-prod\r\n\r\n# Dry run to preview changes\r\nhelm upgrade mlops ./mlops-chart --dry-run --debug\n"})}),"\n",(0,l.jsx)(n.h3,{id:"manage-releases",children:"Manage Releases"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# List releases\r\nhelm list -n mlops-prod\r\n\r\n# Check release history\r\nhelm history mlops -n mlops-prod\r\n\r\n# Rollback to previous version\r\nhelm rollback mlops 1 -n mlops-prod\r\n\r\n# Uninstall release\r\nhelm uninstall mlops -n mlops-prod\n"})}),"\n",(0,l.jsx)(n.h3,{id:"debug-charts",children:"Debug Charts"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Render templates\r\nhelm template mlops ./mlops-chart\r\n\r\n# Validate chart\r\nhelm lint ./mlops-chart\r\n\r\n# Get chart values\r\nhelm get values mlops -n mlops-prod\r\n\r\n# Inspect chart\r\nhelm show chart mlops-chart\n"})}),"\n",(0,l.jsx)(n.h2,{id:"templating",children:"Templating"}),"\n",(0,l.jsx)(n.h3,{id:"template-functions",children:"Template Functions"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\r\nkind: ConfigMap\r\nmetadata:\r\n  name: {{ include "mlops.fullname" . }}\r\n  labels:\r\n    {{- include "mlops.labels" . | nindent 4 }}\r\ndata:\r\n  app.yaml: |\r\n    {{- toYaml .Values.appConfig | nindent 4 }}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"conditional-rendering",children:"Conditional Rendering"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'{{- if .Values.persistence.enabled }}\r\napiVersion: v1\r\nkind: PersistentVolumeClaim\r\nmetadata:\r\n  name: {{ include "mlops.fullname" . }}-pvc\r\nspec:\r\n  accessModes:\r\n    - ReadWriteOnce\r\n  storageClassName: {{ .Values.persistence.storageClass }}\r\n  resources:\r\n    requests:\r\n      storage: {{ .Values.persistence.size }}\r\n{{- end }}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"loops",children:"Loops"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"env:\r\n{{- range $key, $value := .Values.env }}\r\n  - name: {{ $key }}\r\n    value: {{ $value | quote }}\r\n{{- end }}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"repository-management",children:"Repository Management"}),"\n",(0,l.jsx)(n.h3,{id:"add-repository",children:"Add Repository"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Add Bitnami charts\r\nhelm repo add bitnami https://charts.bitnami.com/bitnami\r\n\r\n# Add custom repository\r\nhelm repo add mlops https://charts.mlops.com\r\n\r\n# List repositories\r\nhelm repo list\r\n\r\n# Update repositories\r\nhelm repo update\n"})}),"\n",(0,l.jsx)(n.h3,{id:"search-charts",children:"Search Charts"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Search in repositories\r\nhelm search repo postgresql\r\n\r\n# Search hub\r\nhelm search hub mlops\r\n\r\n# Show chart details\r\nhelm show chart mlops/mlops-platform\n"})}),"\n",(0,l.jsx)(n.h2,{id:"dependency-management",children:"Dependency Management"}),"\n",(0,l.jsx)(n.h3,{id:"chartyaml-dependencies",children:"Chart.yaml Dependencies"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'dependencies:\r\n  - name: postgresql\r\n    version: "12.0"\r\n    repository: "https://charts.bitnami.com/bitnami"\r\n    condition: postgresql.enabled\r\n  - name: redis\r\n    version: "17.0"\r\n    repository: "https://charts.bitnami.com/bitnami"\r\n    condition: redis.enabled\n'})}),"\n",(0,l.jsx)(n.h3,{id:"manage-dependencies",children:"Manage Dependencies"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Update chart dependencies\r\nhelm dependency update ./mlops-chart\r\n\r\n# List dependencies\r\nhelm dependency list ./mlops-chart\r\n\r\n# Build dependencies\r\nhelm dependency build ./mlops-chart\n"})}),"\n",(0,l.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Version Control"})," - Store charts in Git"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Chart Testing"})," - Use ",(0,l.jsx)(n.code,{children:"helm test"})," to validate"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Values Organization"})," - Use separate files per environment"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Documentation"})," - Include README and examples"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Semantic Versioning"})," - Follow semver for chart versions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default Values"})," - Provide sensible defaults"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Namespace Isolation"})," - Use namespaces for environment separation"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"helm-hooks",children:"Helm Hooks"}),"\n",(0,l.jsx)(n.p,{children:"Execute commands at specific points in release lifecycle:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\r\nkind: Pod\r\nmetadata:\r\n  annotations:\r\n    "helm.sh/hook": pre-install\r\n    "helm.sh/hook-weight": "5"\r\nspec:\r\n  containers:\r\n  - name: setup\r\n    image: mlops/setup:latest\r\n  restartPolicy: Never\n'})}),"\n",(0,l.jsx)(n.h2,{id:"testing-charts",children:"Testing Charts"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Validate chart syntax\r\nhelm lint ./mlops-chart\r\n\r\n# Test chart templates\r\nhelm template test ./mlops-chart\r\n\r\n# Run chart tests\r\nhelm test mlops -n mlops-prod\n"})}),"\n",(0,l.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://helm.sh/docs/",children:"Helm Official Documentation"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://helm.sh/docs/chart_best_practices/",children:"Helm Best Practices"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/bitnami/charts",children:"Bitnami Charts"})}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}}}]);