"use strict";(self.webpackChunkmlops_documentation=self.webpackChunkmlops_documentation||[]).push([[1465],{4745:function(n,r,e){e.r(r),e.d(r,{assets:function(){return l},contentTitle:function(){return a},default:function(){return d},frontMatter:function(){return s},metadata:function(){return t},toc:function(){return c}});var t=JSON.parse('{"id":"architecture/data-flow","title":"Data Flow","description":"Complete Request/Response Flow","source":"@site/docs/architecture/data-flow.md","sourceDirName":"architecture","slug":"/architecture/data-flow","permalink":"/docs/architecture/data-flow","draft":false,"unlisted":false,"editUrl":"https://github.com/MLops-Project-Platform/documentation/tree/main/docs/architecture/data-flow.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2}}'),o=e(4848),i=e(8453);const s={sidebar_position:2},a="Data Flow",l={},c=[{value:"Complete Request/Response Flow",id:"complete-requestresponse-flow",level:2},{value:"User Creates Experiment Run",id:"user-creates-experiment-run",level:3},{value:"Viewing Results in UI",id:"viewing-results-in-ui",level:3},{value:"Artifact Download Flow",id:"artifact-download-flow",level:3},{value:"Sequence Diagram: Complete Training Run",id:"sequence-diagram-complete-training-run",level:2}];function u(n){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"data-flow",children:"Data Flow"})}),"\n",(0,o.jsx)(r.h2,{id:"complete-requestresponse-flow",children:"Complete Request/Response Flow"}),"\n",(0,o.jsx)(r.h3,{id:"user-creates-experiment-run",children:"User Creates Experiment Run"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 Researcher Code                 \u2502\r\n\u2502                                 \u2502\r\n\u2502 import mlflow                   \u2502\r\n\u2502 with mlflow.start_run():        \u2502\r\n\u2502   mlflow.log_metric('acc', 0.9) \u2502\r\n\u2502   mlflow.log_artifact(...)      \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n                 \u2502\r\n                 \u2502 POST /api/2.0/mlflow/runs/create\r\n                 \u25bc\r\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n         \u2502  MLflow Server    \u2502\r\n         \u2502   (port 5000)     \u2502\r\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n                 \u2502\r\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n        \u2502                 \u2502\r\n   (SQL)\u2502            (PUT)\u2502\r\n        \u25bc                 \u25bc\r\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n    \u2502 PostgreSQL  \u2502   \u2502  MinIO (S3)  \u2502\r\n    \u2502 Transaction \u2502   \u2502  PUT object  \u2502\r\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n        \u2502                 \u2502\r\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n                 \u2502\r\n                 \u25bc\r\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n         \u2502 Response OK (200) \u2502\r\n         \u2502 with run_id       \u2502\r\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,o.jsx)(r.h3,{id:"viewing-results-in-ui",children:"Viewing Results in UI"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502  MLflow Web UI       \u2502\r\n\u2502  (http://loc:5000)   \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502\r\n       \u2502 GET /api/2.0/mlflow/experiments/list\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   MLflow Server          \u2502\r\n\u2502   (port 5000)            \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502\r\n       \u2502 SELECT * FROM experiments\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   PostgreSQL             \u2502\r\n\u2502   Returns experiment IDs \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502\r\n       \u2502 JSON Response\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   Browser renders table  \u2502\r\n\u2502   of experiments         \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,o.jsx)(r.h3,{id:"artifact-download-flow",children:"Artifact Download Flow"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 Researcher requests  \u2502\r\n\u2502 model artifact       \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502\r\n       \u2502 GET /api/2.0/mlflow/artifacts/download\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   MLflow Server          \u2502\r\n\u2502   (port 5000)            \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502\r\n       \u2502 GET mlflow-artifacts/{run_id}/model.pkl\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   MinIO (S3)             \u2502\r\n\u2502   Returns object         \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502\r\n       \u2502 Binary data\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 Researcher receives      \u2502\r\n\u2502 model file locally       \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,o.jsx)(r.h2,{id:"sequence-diagram-complete-training-run",children:"Sequence Diagram: Complete Training Run"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"Researcher    MLflow    PostgreSQL    MinIO\r\n    \u2502           \u2502           \u2502          \u2502\r\n    \u2502 start_run \u2502           \u2502          \u2502\r\n    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502 INSERT run\u2502          \u2502\r\n    \u2502           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502          \u2502\r\n    \u2502           \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524          \u2502\r\n    \u2502           \u2502 run_id    \u2502          \u2502\r\n    \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524           \u2502          \u2502\r\n    \u2502           \u2502           \u2502          \u2502\r\n    \u2502 log_param \u2502           \u2502          \u2502\r\n    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502 INSERT    \u2502          \u2502\r\n    \u2502           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502          \u2502\r\n    \u2502           \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524          \u2502\r\n    \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524           \u2502          \u2502\r\n    \u2502           \u2502           \u2502          \u2502\r\n    \u2502 log_metric\u2502           \u2502          \u2502\r\n    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502 INSERT    \u2502          \u2502\r\n    \u2502           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502          \u2502\r\n    \u2502           \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524          \u2502\r\n    \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524           \u2502          \u2502\r\n    \u2502           \u2502           \u2502          \u2502\r\n    \u2502 save artifact          \u2502          \u2502\r\n    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502           \u2502 PUT obj  \u2502\r\n    \u2502           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502\r\n    \u2502           \u2502           \u2502 success  \u2502\r\n    \u2502           \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n    \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524           \u2502          \u2502\r\n    \u2502           \u2502           \u2502          \u2502\r\n    \u2502 end_run   \u2502           \u2502          \u2502\r\n    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502 UPDATE    \u2502          \u2502\r\n    \u2502           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502          \u2502\r\n    \u2502           \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524          \u2502\r\n    \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524           \u2502          \u2502\n"})}),"\n",(0,o.jsx)(r.hr,{}),"\n",(0,o.jsxs)(r.p,{children:["Understanding these flows helps in debugging issues and optimizing the system. See ",(0,o.jsx)(r.a,{href:"/docs/architecture/components",children:"Components"})," for more details."]})]})}function d(n={}){const{wrapper:r}={...(0,i.R)(),...n.components};return r?(0,o.jsx)(r,{...n,children:(0,o.jsx)(u,{...n})}):u(n)}},8453:function(n,r,e){e.d(r,{R:function(){return s},x:function(){return a}});var t=e(6540);const o={},i=t.createContext(o);function s(n){const r=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function a(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),t.createElement(i.Provider,{value:r},n.children)}}}]);